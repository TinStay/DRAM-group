[{"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\index.js":"1","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Navbar\\Navbar.js":"2","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\App.js":"3","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\Context\\AuthContext.js":"4","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\firebase.js":"5","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\AuthForms\\Signup.js":"6","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\AuthForms\\Login.js":"7","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\User\\Profile.js":"8","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\User\\PrivateRoute.js":"9","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\AuthForms\\ForgotPassword.js":"10","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\axios.js":"11","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\User\\UpdateProfile.js":"12","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\shared\\sharedFunctions.js":"13","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\Discussions.js":"14","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\Categories.js":"15","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionBox.js":"16","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionForm.js":"17","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionDetail\\DiscussionDetail.js":"18","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionDetail\\DiscussionComment.js":"19","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Home\\Homepage.js":"20","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Footer\\Footer.js":"21"},{"size":220,"mtime":1608239004189,"results":"22","hashOfConfig":"23"},{"size":3248,"mtime":1610631517154,"results":"24","hashOfConfig":"23"},{"size":1899,"mtime":1610564137268,"results":"25","hashOfConfig":"23"},{"size":1853,"mtime":1608373511977,"results":"26","hashOfConfig":"23"},{"size":780,"mtime":1608646294533,"results":"27","hashOfConfig":"23"},{"size":4269,"mtime":1610652959207,"results":"28","hashOfConfig":"23"},{"size":2315,"mtime":1608383594827,"results":"29","hashOfConfig":"23"},{"size":5221,"mtime":1610647853518,"results":"30","hashOfConfig":"23"},{"size":473,"mtime":1608289055036,"results":"31","hashOfConfig":"23"},{"size":2182,"mtime":1608383692193,"results":"32","hashOfConfig":"23"},{"size":173,"mtime":1608482558732,"results":"33","hashOfConfig":"23"},{"size":16686,"mtime":1610645029358,"results":"34","hashOfConfig":"23"},{"size":734,"mtime":1610627532165,"results":"35","hashOfConfig":"23"},{"size":2534,"mtime":1610565212677,"results":"36","hashOfConfig":"23"},{"size":1460,"mtime":1610565169601,"results":"37","hashOfConfig":"23"},{"size":3249,"mtime":1610652707611,"results":"38","hashOfConfig":"23"},{"size":4057,"mtime":1610550699707,"results":"39","hashOfConfig":"23"},{"size":10329,"mtime":1610561829249,"results":"40","hashOfConfig":"23"},{"size":2022,"mtime":1610640097885,"results":"41","hashOfConfig":"23"},{"size":3623,"mtime":1610654463903,"results":"42","hashOfConfig":"23"},{"size":257,"mtime":1610564435795,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"2eaqnv",{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"82","usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"46"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\index.js",[],["93","94"],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Navbar\\Navbar.js",["95","96"],"import React, { useEffect, useState } from \"react\";\r\nimport axios from '../../axios'\r\n\r\n//React Router\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Style\r\nimport {\r\n  Navbar,\r\n  NavDropdown,\r\n  FormControl,\r\n  Nav,\r\n  Form,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport classes from \"./Navbar.module.scss\";\r\nimport account_icon from \"../../assets/account/account_icon_purple.png\";\r\n\r\n// Auth\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\n\r\nconst Navigationbar = () => {\r\n  const { currentUser, logout } = useAuth();\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [userData, setUserData] = useState();\r\n  \r\n  let togglerClasses = [];\r\n  let collapseClasses = [];\r\n\r\n  useEffect(() => {\r\n    if(currentUser){\r\n      axios\r\n        .get(`/users/${currentUser.uid}.json`)\r\n        .then((userData) => {\r\n          // Set user data state\r\n          setUserData(userData.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"Error in fetching data from Firebase\", err);\r\n        });\r\n\r\n    }\r\n  }, [currentUser, userData])\r\n\r\n  let navItems = (\r\n    <Nav className=\"ml-auto\">\r\n      <Link\r\n        onClick={() => setExpanded(false)}\r\n        className={classes.btn_login}\r\n        to=\"/login\"\r\n      >\r\n        Login\r\n      </Link>\r\n      <Link\r\n        onClick={() => setExpanded(false)}\r\n        className={classes.btn_signup}\r\n        to=\"/signup\"\r\n      >\r\n        Sign up\r\n      </Link>\r\n    </Nav>\r\n  );\r\n\r\n  if (currentUser) {\r\n    navItems = (\r\n      <Nav className=\"ml-auto \">\r\n        <Link\r\n            onClick={() => setExpanded(false)}\r\n            className=\"nav-link\"\r\n            to=\"/discuss\"\r\n          >\r\n            Discuss\r\n          </Link>\r\n        <NavDropdown\r\n          title={\r\n            <div className=\"d-inline \">\r\n              <img\r\n                className={classes.account_icon}\r\n                src={userData ? userData.photoURL !== \"\" ? userData.photoURL : account_icon : account_icon}\r\n                alt=\"account icon\"\r\n                width=\"45px\"\r\n                height=\"45px\"\r\n              />\r\n              <span className=\"mr-1\">{userData ? userData.username : \"Profile\"}</span>\r\n            </div>\r\n          }\r\n          id=\"basic-nav-dropdown\"\r\n        >\r\n          <Link\r\n            onClick={() => setExpanded(false)}\r\n            className=\"dropdown-item\"\r\n            to={`/profile/` + currentUser.uid}\r\n          >\r\n            Profile\r\n          </Link>\r\n          <NavDropdown.Divider />\r\n          <div class=\"ml-2\">\r\n          <Button className=\"btn-danger btn-cancel\" onClick={() => logout()}>Log out</Button>\r\n\r\n          </div>\r\n        </NavDropdown>\r\n      </Nav>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Navbar expanded={expanded} className={classes.navbar} expand=\"lg\">\r\n      <Link className={classes.logo} to=\"/\">\r\n        WeFontys\r\n      </Link>\r\n      <Navbar.Toggle\r\n        onClick={() => setExpanded(expanded ? false : \"expanded\")}\r\n        className={togglerClasses.join(\" \")}\r\n        aria-controls=\"basic-navbar-nav\"\r\n      />\r\n      <Navbar.Collapse\r\n        className={collapseClasses.join(\" \")}\r\n        id=\"basic-navbar-nav\"\r\n      >\r\n        {navItems}\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Navigationbar;\r\n","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\App.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\Context\\AuthContext.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\firebase.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\AuthForms\\Signup.js",["97","98","99"],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\AuthForms\\Login.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\User\\Profile.js",["100","101","102","103"],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\User\\PrivateRoute.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\AuthForms\\ForgotPassword.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\axios.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\User\\UpdateProfile.js",["104","105","106","107","108","109"],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\shared\\sharedFunctions.js",[],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\Discussions.js",["110"],"import React, { useEffect, useState } from \"react\";\r\nimport Categories from \"./Categories\";\r\nimport DiscussionBox from \"./DiscussionBox\";\r\nimport axios from \"../../axios\";\r\nimport { db } from '../../firebase'\r\n\r\n// React Router\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Discussions = () => {\r\n  const [discussions, setDiscussions] = useState([]);\r\n  const [filter, setFilter] = useState(\"All\");\r\n\r\n  let sortedDiscussionsByDate = discussions.slice().sort((a, b) => new Date(b.datePosted) - new Date(a.datePosted));\r\n\r\n  let filteredDiscussions = [...sortedDiscussionsByDate];\r\n\r\n  // Filter discussions with filter\r\n  if(filter !== \"All\"){\r\n    filteredDiscussions = discussions.filter(discussion => ( \r\n      discussion.category === filter\r\n    ))\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/discussions.json\")\r\n      .then((response) => {\r\n        const discussionsData = []\r\n        \r\n        // Push all discussions from Firebase in an array\r\n        for(const discussion in response.data){\r\n          discussionsData.push(response.data[discussion]);\r\n        }\r\n\r\n        // Set state with new discussions\r\n        setDiscussions(discussionsData);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error in fetching discussion data: \", error);\r\n      });\r\n  }, [filter]);\r\n\r\n  const filterDiscussions = (filter) => {\r\n    console.log(filter)\r\n    setFilter(filter)\r\n  }\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"row mt-3\">\r\n      <div className=\"col-md-3 side-menu \">\r\n        <Link to=\"/add-discussion\" className=\"btn btn-purple-rounded text-center my-3 btn-block\">\r\n          Add a discussion\r\n        </Link>\r\n        <Categories filterDiscussions={(e) => filterDiscussions(e.target.value)} filter={filter}/>\r\n      </div>\r\n      <div className=\"col-md-9\">\r\n        <h1 className=\"mt-2 mb-3 \">{filter} discussions</h1>\r\n        <div className=\"discussions-list\">\r\n          {discussions.length !== 0 ? filteredDiscussions.map((discussion, idx) => {\r\n            return <DiscussionBox \r\n            key={idx}\r\n            discussionID={discussion.discussionID}\r\n            authorID={discussion.authorID}\r\n            title={discussion.title}\r\n            category={discussion.category}\r\n            initialComment={discussion.initialComment}\r\n            comments={discussion.comments}\r\n            likes={discussion.likes}\r\n            />;\r\n          }) : <h4 className=\"text-muted\">No discussions available</h4> }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Discussions;\r\n","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\Categories.js",["111"],"import React from \"react\";\r\nimport { ListGroup, Form } from \"react-bootstrap\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nconst Categories = (props) => {\r\n  const isMobile = useMediaQuery({ query: `(max-width: 760px)` });\r\n  const categoryList = [\r\n    \"All\",\r\n    \"COVID-19\",\r\n    \"Arts\",\r\n    \"Communications\",\r\n    \"Business\",\r\n    \"Engineering\",\r\n    \"Healthcare\",\r\n    \"ICT\",\r\n    \"Logistics\",\r\n    \"International\",\r\n    \"Intership\",\r\n    \"Other\",\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      {isMobile ? (\r\n        <Form.Group className=\"w-75 mx-auto my-4\" controlId=\"discussion-form-category\">\r\n          <Form.Control as=\"select\" onChange={(e) => props.filterDiscussions(e)}>\r\n            {categoryList.map((category, idx) => {\r\n              return (\r\n                <option\r\n                  value={category}\r\n                  key={idx}>\r\n                  {category}\r\n                </option>\r\n              );\r\n            })}\r\n          </Form.Control>\r\n        </Form.Group>\r\n      ) : (\r\n        <ListGroup>\r\n          {categoryList.map((category, idx) => {\r\n            return <ListGroup.Item\r\n            action\r\n            key={idx}\r\n            value={category}\r\n            active={props.filter == category}\r\n            onClick={(e) => props.filterDiscussions(e)}\r\n          >\r\n            {category}\r\n          </ListGroup.Item>\r\n          })}\r\n        </ListGroup>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionBox.js",["112"],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionForm.js",["113","114","115"],"import React, { useRef, useState, useEffect } from \"react\";\r\nimport classes from \"./Discussions.module.scss\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport axios from \"../../axios\";\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAuth } from \"../../Context/AuthContext\";\r\n\r\nconst DiscussionForm = () => {\r\n  const { currentUser } = useAuth();\r\n  const [userData, setUserData] = useState();\r\n  const history = useHistory();\r\n\r\n  const categoryList = [\"COVID-19\", \"Arts\", \"Communications\", \"Business\", \"Engineering\", \"Healthcare\", \"ICT\", \"Logistics\", \"International\", \"Intership\", \"Other\",]\r\n\r\n  const titleRef = useRef();\r\n  const categoryRef = useRef();\r\n  const commentRef = useRef();\r\n\r\n  // Fetch data from Firebase Realtime Database\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/users/${currentUser.uid}.json`)\r\n      .then((userData) => {\r\n        // Set user data state\r\n        setUserData(userData.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in fetching data from Firebase\", err);\r\n      });\r\n  }, []);\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Discussion entry data that will be saved to Firebase Realtime Database\r\n    let newDiscussionEntry = {\r\n      discussionID: \"\",\r\n      title: titleRef.current.value,\r\n      category: categoryRef.current.value,\r\n      initialComment: commentRef.current.value,\r\n      datePosted: new Date,\r\n      comments: [],\r\n      authorID: currentUser.uid,\r\n      likes: 0,\r\n      likedBy: []\r\n\r\n    };\r\n\r\n    // Push discussion entry to Firebase Realtime Database\r\n    await axios.post(`/discussions.json`, newDiscussionEntry)\r\n      .then( async(response) => {\r\n        // Get discussion ID from Firebase and make a put request to update it\r\n        let newDiscussionEntryWithID = {...newDiscussionEntry}\r\n\r\n        newDiscussionEntryWithID.discussionID = response.data.name;\r\n\r\n        await axios.put(`/discussions/${response.data.name}.json`, newDiscussionEntryWithID).then(\r\n          (response) => {\r\n            // console.log(\"Response from put request: \", response)\r\n          }\r\n        ).catch((err) => {\r\n          console.log(\"Error from put request: \", err)\r\n        })\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in post request to Firebase Realtime Databse\", err);\r\n      });\r\n\r\n    // Redirect to home page\r\n    history.push(\"/discuss\");\r\n  };\r\n\r\n  return (\r\n    <div className={classes.discussion_form_container}>\r\n      <Link className=\"text-decoration-none\" to=\"discuss\"><i className=\"fas fa-angle-left mr-1\"></i>Back</Link>\r\n      <h1 className=\"mb-3\">Add a discussion</h1>\r\n      <form onSubmit={handleFormSubmit} className=\"\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">\r\n            <Form.Group id=\"discussion-form-title\"> \r\n              <Form.Label>Title</Form.Label>\r\n              <Form.Control\r\n                ref={titleRef}\r\n                type=\"text\"\r\n                placeholder=\"Title of discussion\"\r\n                required\r\n              />\r\n            </Form.Group>\r\n          </div>\r\n          <div className=\"col-md-4\">\r\n            <Form.Group controlId=\"discussion-form-category\">\r\n              <Form.Label>Category</Form.Label>\r\n              <Form.Control as=\"select\" ref={categoryRef}>\r\n                {categoryList.map(category =>{\r\n                  return <option key={category}>{category}</option>\r\n                })}\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </div>\r\n\r\n          <div className=\"col-md-12\">\r\n            <Form.Group controlId=\"discussion-form-initial-comment\">\r\n              <Form.Label>Comment</Form.Label>\r\n              <Form.Control ref={commentRef} as=\"textarea\" rows={3} required />\r\n            </Form.Group>\r\n          </div>\r\n        </div>\r\n        <div className=\"submit-btn\">\r\n          <button type=\"submit\" className=\"btn btn-purple-rounded\">\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DiscussionForm;\r\n","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionDetail\\DiscussionDetail.js",["116","117","118"],"import React, { useEffect, useState, useRef } from \"react\";\r\nimport classes from \"../Discussions.module.scss\";\r\nimport axios from \"../../../axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { useAuth } from \"../../../Context/AuthContext\";\r\nimport DiscussionComment from \"./DiscussionComment\";\r\nimport account_image from \"../../../assets/account/account_icon_purple.png\";\r\n\r\n// DayJS\r\nimport dayjs from \"dayjs\";\r\n\r\nconst DiscussionDetail = (props) => {\r\n  const { currentUser } = useAuth();\r\n  const [userData, setUserData] = useState();\r\n  const [discussionData, setDiscussionData] = useState({});\r\n  const [isDiscussionLiked, setIsDiscussionLiked] = useState(false);\r\n\r\n  // Alert and error\r\n  const [alertMessage, setAlertMessage] = useState(\"\");\r\n  const [show, setShow] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const commentInputRef = useRef();\r\n\r\n  // Fetch discussion data from Firebase Realtime Database\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/discussions/${props.match.params.id}.json`)\r\n      .then((response) => {\r\n        // Update state\r\n        setDiscussionData(response.data);\r\n\r\n        let likedBy = response.data.likedBy;\r\n\r\n        if (likedBy !== undefined) {\r\n          if (likedBy.includes(currentUser.uid)) {\r\n            // console.log(discussionData.likedBy.includes(currentUser.uid))\r\n            setIsDiscussionLiked(true);\r\n          } else {\r\n            // console.log(discussionData.likedBy.includes(currentUser.uid))\r\n            setIsDiscussionLiked(false);\r\n          }\r\n        }\r\n      })\r\n      .then(() => {\r\n        // Fetch user data from Firebase\r\n        axios\r\n          .get(`/users/${currentUser.uid}.json`)\r\n          .then((userData) => {\r\n            // Set user data state\r\n            setUserData(userData.data);\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"err\", err);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error in fetching discussion data: \", error);\r\n      });\r\n  }, []);\r\n\r\n  const postComment = async () => {\r\n    // Reset error and alert\r\n    setError(\"\");\r\n    setAlertMessage(\"\");\r\n    setShow(true);\r\n\r\n    // Get the comment text from from\r\n    const comment = commentInputRef.current.value;\r\n\r\n    // Validation\r\n    if (comment === \"\") {\r\n      setError(\"Comment field must not be empty\");\r\n    } else {\r\n      let newDiscussionData = { ...discussionData };\r\n\r\n      // Check whether comments field exists\r\n      if (newDiscussionData.comments) {\r\n        // Remove initial \"none\" comment entry if it exists\r\n        if (newDiscussionData.comments[0] === \"none\") {\r\n          newDiscussionData.comments.splice(0, 1);\r\n        }\r\n      } else {\r\n        // Add a comments field if it doesn't existing\r\n        newDiscussionData = {\r\n          ...newDiscussionData,\r\n          comments: [],\r\n        };\r\n      }\r\n\r\n      // Initialize comment object\r\n      let newCommentEntry = {\r\n        comment: comment,\r\n        authorID: userData.userID,\r\n        datePosted: new Date(),\r\n      };\r\n\r\n      // Push comment to comments array\r\n      newDiscussionData.comments.push(newCommentEntry);\r\n\r\n      // Make a put request to update discussion comments data\r\n      await axios\r\n        .put(`/discussions/${props.match.params.id}.json`, newDiscussionData)\r\n        .then((response) => {\r\n          //   console.log(\"Response from put request: \", response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error in fetching discussion data: \", error);\r\n        });\r\n\r\n      setAlertMessage(\"You successfuly posted your comment\");\r\n\r\n      // Reset field\r\n      commentInputRef.current.value = \"\";\r\n\r\n      // Update state\r\n      setDiscussionData(newDiscussionData);\r\n    }\r\n  };\r\n\r\n  // Sort discussions by date - most recent first\r\n  let sortedCommentsByDate = [];\r\n\r\n  if (discussionData.comments) {\r\n    sortedCommentsByDate = discussionData.comments\r\n      .slice()\r\n      .sort((a, b) => new Date(b.datePosted) - new Date(a.datePosted));\r\n  }\r\n\r\n  const likeDiscussion = () => {\r\n    // Get discussion data\r\n    let newDiscussionData = { ...discussionData };\r\n\r\n    // Update liked by users array\r\n    if (newDiscussionData.likedBy !== undefined) {\r\n\r\n      const idxUserInLikedBy = newDiscussionData.likedBy.indexOf(\r\n        currentUser.uid\r\n      );\r\n      \r\n      // Remove user ID from likedBy array\r\n      if (idxUserInLikedBy != -1 && isDiscussionLiked === true) {\r\n        newDiscussionData.likedBy.splice(idxUserInLikedBy, 1);\r\n\r\n        newDiscussionData.likes -= 1;\r\n      } else if (isDiscussionLiked === false) {\r\n        // Push user ID to likedBy list\r\n        newDiscussionData.likedBy.push(currentUser.uid);\r\n        newDiscussionData.likes += 1;\r\n      }\r\n    } else {\r\n      // Add a likedBy array to newDiscussionData object\r\n      if (newDiscussionData.likedBy === undefined) {\r\n        newDiscussionData = {\r\n          ...newDiscussionData,\r\n          likedBy: [],\r\n        };\r\n      }\r\n\r\n      // Add user ID to likedBy list if this is first like\r\n      if (isDiscussionLiked === false) {\r\n        newDiscussionData.likedBy.push(currentUser.uid);\r\n\r\n        newDiscussionData.likes += 1;\r\n      }\r\n    }\r\n\r\n    //Update state\r\n    setIsDiscussionLiked(!isDiscussionLiked);\r\n    setDiscussionData(newDiscussionData);\r\n\r\n    // Push new discussion data to Firebase Realtime Database\r\n    // Make a put request to update discussion likes\r\n    axios\r\n      .put(`/discussions/${props.match.params.id}.json`, newDiscussionData)\r\n      .then((response) => {\r\n        //   console.log(\"Response from put request: \", response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error in fetching discussion data: \", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.discussion_detail_container}>\r\n      <Link className=\"text-decoration-none \" to=\"/discuss\">\r\n        <i className=\"fas fa-angle-left mr-1\"></i>Back\r\n      </Link>\r\n      <div className=\"rounded mb-2 px-2 py-1 row\">\r\n        <div className=\"w-100 my-2 my-md-0\">\r\n          <h1 className=\"w-100 mb-2 pb-2 pr-md-0 border-bottom\">\r\n            {discussionData.title}\r\n          </h1>\r\n          <div className=\"d-flex justify-content-between text-muted\">\r\n            <div className=\"discussion-info\">\r\n              <span className=\"mr-2\">\r\n                <span className=\"badge badge-primary purple-bgc ml-1 px-3 py-2\">\r\n                  {discussionData.category}\r\n                </span>\r\n              </span>\r\n              <span className=\"mx-3\">\r\n                {dayjs(discussionData.datePosted).format(\"MMM DD, YYYY\")}\r\n              </span>\r\n            </div>\r\n\r\n            <span className=\"\">\r\n              <i\r\n                onClick={() => likeDiscussion()}\r\n                className={\r\n                  isDiscussionLiked\r\n                    ? \"fas fa-heart red like-btn mx-1\"\r\n                    : \"far fa-heart like-btn mx-1\"\r\n                }\r\n              ></i>\r\n              {discussionData.likes === 1\r\n                ? discussionData.likes + \" like\"\r\n                : discussionData.likes + \" likes\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Initial comment */}\r\n        <div class=\"w-100\">\r\n          <DiscussionComment commentData={discussionData} />\r\n        </div>\r\n\r\n        <div className=\"comment-form row w-100 mx-auto my-4\">\r\n          {alertMessage !== \"\" && show ? (\r\n            <Alert\r\n              className=\"col-12 mx-auto\"\r\n              variant=\"success\"\r\n              onClose={() => setShow(false)}\r\n              dismissible\r\n            >\r\n              {alertMessage}\r\n            </Alert>\r\n          ) : null}\r\n          {error !== \"\" && show ? (\r\n            <Alert\r\n              className=\"col-12 mx-auto\"\r\n              variant=\"danger\"\r\n              onClose={() => setShow(false)}\r\n              dismissible\r\n            >\r\n              {error}\r\n            </Alert>\r\n          ) : null}\r\n          <div className=\"col-md-2 mb-2\">\r\n            <div className=\"mx-md-auto d-flex d-md-block justify-content-start \">\r\n              <div className=\"text-center mr-2 mr-md-0\">\r\n                <img\r\n                  src={\r\n                    userData\r\n                      ? userData.photoURL !== \"\"\r\n                        ? userData.photoURL\r\n                        : account_image\r\n                      : account_image\r\n                  }\r\n                  className={classes.discussion_box_image}\r\n                  alt=\"img\"\r\n                />\r\n              </div>\r\n              <div className=\"text-center my-auto\">\r\n                <p className=\"text-muted mt-1\">\r\n                  {userData && userData.username}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\" col-md-10\">\r\n            <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n              <Form.Label>Comment</Form.Label>\r\n              <Form.Control ref={commentInputRef} as=\"textarea\" rows={3} />\r\n            </Form.Group>\r\n            <Button onClick={postComment} className=\"btn-purple-rounded\">\r\n              Post\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"comments my-5 w-100\">\r\n          <div className=\" pb-2 border-bottom w-100\">\r\n            <span className=\"text-muted  \">\r\n              <i className=\"far fa-comment-alt mx-1\"></i>\r\n              {discussionData.comments\r\n                ? discussionData.comments.length !== 1\r\n                  ? discussionData.comments.length + \" comments\"\r\n                  : discussionData.comments.length + \" comment\"\r\n                : \"0 comments\"}\r\n            </span>\r\n          </div>\r\n          <div className=\"comments\">\r\n            {discussionData.comments !== [] ? (\r\n              sortedCommentsByDate.map((commentData) => {\r\n                return (\r\n                  <DiscussionComment\r\n                    key={commentData.datePosted}\r\n                    commentData={commentData}\r\n                  />\r\n                );\r\n              })\r\n            ) : (\r\n              <p>No comments yet</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DiscussionDetail;\r\n","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Discussions\\DiscussionDetail\\DiscussionComment.js",["119","120"],"import React, { useState, useEffect } from \"react\";\r\nimport classes from \"../Discussions.module.scss\";\r\nimport axios from \"../../../axios\";\r\nimport dayjs from \"dayjs\"\r\nimport account_image from '../../../assets/account/account_icon_purple.png'\r\n\r\nconst DiscussionComment = (props) => {\r\n  const [authorData, setAuthorData] = useState();\r\n\r\n  useEffect(async () => {\r\n    // Fetch author data from Firebase\r\n    await axios\r\n      .get(`/users/${props.commentData.authorID}.json`)\r\n      .then((userData) => {\r\n        // Set user data state\r\n        setAuthorData(userData.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in fetching author data: \", err);\r\n      });\r\n  }, [props]);\r\n\r\n  const initialComment = props.commentData.initialComment;\r\n  const datePostedFormatted = dayjs(props.commentData.datePosted).format(\"MMM DD, YYYY\");\r\n\r\n  return (\r\n    <div className=\"comment row border-bottom pb-3 my-4 mx-auto\">\r\n      <div className=\"col-md-2 mb-2\">\r\n        <div className=\"mx-md-auto d-flex d-md-block justify-content-start \">\r\n          <div className=\"text-center mr-2 mr-md-0\">\r\n            <img\r\n              src={\r\n                authorData\r\n                ? authorData.photoURL !== \"\"\r\n                  ? authorData.photoURL\r\n                  : account_image\r\n                : account_image}\r\n              className={classes.discussion_box_image}\r\n              alt=\"profile image\"\r\n            />\r\n          </div>\r\n          <div className=\"text-center my-auto\">\r\n            <p className=\"text-muted mt-1 mb-0 \">\r\n              {authorData && authorData.username}\r\n            </p>\r\n            <span className=\"mx-auto text-muted \">\r\n              {datePostedFormatted}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-10\">\r\n        <p className=\"my-2 text-muted\">\r\n          {initialComment ? initialComment : props.commentData.comment}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DiscussionComment;\r\n","D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Home\\Homepage.js",["121","122","123"],"D:\\Fontys\\Media design\\DRAM-group\\we-fontys\\src\\components\\Footer\\Footer.js",[],{"ruleId":"124","replacedBy":"125"},{"ruleId":"126","replacedBy":"127"},{"ruleId":"128","severity":1,"message":"129","line":11,"column":3,"nodeType":"130","messageId":"131","endLine":11,"endColumn":14},{"ruleId":"128","severity":1,"message":"132","line":13,"column":3,"nodeType":"130","messageId":"131","endLine":13,"endColumn":7},{"ruleId":"128","severity":1,"message":"133","line":1,"column":35,"nodeType":"130","messageId":"131","endLine":1,"endColumn":44},{"ruleId":"128","severity":1,"message":"134","line":3,"column":8,"nodeType":"130","messageId":"131","endLine":3,"endColumn":13},{"ruleId":"128","severity":1,"message":"135","line":31,"column":19,"nodeType":"130","messageId":"131","endLine":31,"endColumn":30},{"ruleId":"128","severity":1,"message":"132","line":7,"column":16,"nodeType":"130","messageId":"131","endLine":7,"endColumn":20},{"ruleId":"136","severity":1,"message":"137","line":36,"column":6,"nodeType":"138","endLine":36,"endColumn":8,"suggestions":"139"},{"ruleId":"128","severity":1,"message":"140","line":52,"column":7,"nodeType":"130","messageId":"131","endLine":52,"endColumn":22},{"ruleId":"141","severity":1,"message":"142","line":70,"column":17,"nodeType":"143","endLine":73,"endColumn":18},{"ruleId":"128","severity":1,"message":"144","line":15,"column":3,"nodeType":"130","messageId":"131","endLine":15,"endColumn":10},{"ruleId":"128","severity":1,"message":"145","line":29,"column":10,"nodeType":"130","messageId":"131","endLine":29,"endColumn":25},{"ruleId":"128","severity":1,"message":"146","line":29,"column":27,"nodeType":"130","messageId":"131","endLine":29,"endColumn":45},{"ruleId":"128","severity":1,"message":"147","line":52,"column":24,"nodeType":"130","messageId":"131","endLine":52,"endColumn":35},{"ruleId":"136","severity":1,"message":"148","line":70,"column":6,"nodeType":"138","endLine":70,"endColumn":8,"suggestions":"149"},{"ruleId":"150","severity":1,"message":"151","line":314,"column":17,"nodeType":"143","endLine":326,"endColumn":18},{"ruleId":"128","severity":1,"message":"152","line":5,"column":10,"nodeType":"130","messageId":"131","endLine":5,"endColumn":12},{"ruleId":"153","severity":1,"message":"154","line":45,"column":34,"nodeType":"155","messageId":"156","endLine":45,"endColumn":36},{"ruleId":"136","severity":1,"message":"157","line":10,"column":13,"nodeType":"158","endLine":21,"endColumn":4},{"ruleId":"128","severity":1,"message":"159","line":11,"column":10,"nodeType":"130","messageId":"131","endLine":11,"endColumn":18},{"ruleId":"136","severity":1,"message":"148","line":31,"column":6,"nodeType":"138","endLine":31,"endColumn":8,"suggestions":"160"},{"ruleId":"161","severity":1,"message":"162","line":42,"column":19,"nodeType":"163","messageId":"164","endLine":42,"endColumn":27,"fix":"165"},{"ruleId":"128","severity":1,"message":"166","line":4,"column":16,"nodeType":"130","messageId":"131","endLine":4,"endColumn":26},{"ruleId":"136","severity":1,"message":"167","line":61,"column":6,"nodeType":"138","endLine":61,"endColumn":8,"suggestions":"168"},{"ruleId":"153","severity":1,"message":"169","line":143,"column":28,"nodeType":"155","messageId":"156","endLine":143,"endColumn":30},{"ruleId":"136","severity":1,"message":"157","line":10,"column":13,"nodeType":"158","endLine":21,"endColumn":4},{"ruleId":"150","severity":1,"message":"151","line":31,"column":13,"nodeType":"143","endLine":40,"endColumn":15},{"ruleId":"150","severity":1,"message":"151","line":30,"column":11,"nodeType":"143","endLine":34,"endColumn":13},{"ruleId":"150","severity":1,"message":"151","line":51,"column":11,"nodeType":"143","endLine":55,"endColumn":13},{"ruleId":"150","severity":1,"message":"151","line":70,"column":11,"nodeType":"143","endLine":74,"endColumn":13},"no-native-reassign",["170"],"no-negated-in-lhs",["171"],"no-unused-vars","'FormControl' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","'useEffect' is defined but never used.","'axios' is defined but never used.","'currentUser' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentUser' and 'props.match.params.id'. Either include them or remove the dependency array.","ArrayExpression",["172"],"'defaultImageURL' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Spinner' is defined but never used.","'profileImageURL' is assigned a value but never used.","'setProfileImageURL' is assigned a value but never used.","'updateEmail' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'currentUser.uid'. Either include it or remove the dependency array.",["173"],"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donâ€™t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","'db' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","'userData' is assigned a value but never used.",["174"],"new-parens","Missing '()' invoking a constructor.","NewExpression","missing",{"range":"175","text":"176"},"'useHistory' is defined but never used.","React Hook useEffect has missing dependencies: 'currentUser.uid' and 'props.match.params.id'. Either include them or remove the dependency array.",["177"],"Expected '!==' and instead saw '!='.","no-global-assign","no-unsafe-negation",{"desc":"178","fix":"179"},{"desc":"180","fix":"181"},{"desc":"180","fix":"182"},[1427,1427],"()",{"desc":"183","fix":"184"},"Update the dependencies array to be: [currentUser, props.match.params.id]",{"range":"185","text":"186"},"Update the dependencies array to be: [currentUser.uid]",{"range":"187","text":"188"},{"range":"189","text":"188"},"Update the dependencies array to be: [currentUser.uid, props.match.params.id]",{"range":"190","text":"191"},[997,999],"[currentUser, props.match.params.id]",[2171,2173],"[currentUser.uid]",[1056,1058],[2088,2090],"[currentUser.uid, props.match.params.id]"]